<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta charset="UTF-8" />
	<title>admin</title>
	<link rel="icon"
		href="https://cdn-icons-png.flaticon.com/512/5520/5520840.png" />
	<link
		href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
		rel="stylesheet" />
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
		crossorigin="anonymous"></script>
	<link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
		rel="stylesheet" />
	<link
		href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css"
		rel="stylesheet" />
	<link rel="stylesheet"
		href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
	<link rel="stylesheet"
		href="https://cdn.jsdelivr.net/npm/bulma@1.0.4/css/bulma.min.css" />
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
	<link rel="stylesheet"
		href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css" />
	<link href="css/style.css" rel="stylesheet" />
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
</h:head>

<h:body>

	<f:event type="preRenderView" listener="#{userBean.checkSession}" />
	<f:event type="preRenderView"
		listener="#{paginaprincipalbean.cargarProductos}" />

	<header class="header" id="header"> <nav class="nav container">
	<a href="userpp.xhtml" class="nav-logo"> <i
		class='bx bxs-shopping-bags nav-logo-icon'></i> TEMU SHOP
	</a>

	<div class="nav-menu" id="nav-menu">
		<ul class="nav-list">
			<li class="nav-item"><a href="userpp.xhtml"
				class="nav-link active-link">Home</a></li>
			<li class="nav-item"><a href="cart.xhtml" class="nav-link">Cart</a></li>
		</ul>
		<div class="nav-close" id="nav-close">
			<i class="bx bx-x"></i>
		</div>
	</div>

	<div class="nav-btns">
		<div class="nav-shop" id="cart-shop">
			<i class='bx bx-shopping-bag'></i>
		</div>
		<div class="nav-toggle" id="nav-toggle">
			<i class='bx bx-grid-alt'></i>
		</div>
	</div>

	<div class="dropdown">
		<button class="btn dropdown-toggle" type="button"
			data-bs-toggle="dropdown" aria-expanded="false">SETTING</button>
		<ul class="dropdown-menu">
			<li><p:commandLink value="INFO"
					actionListener="#{userBean.mostrarInfo}" styleClass="dropdown-item" />
			</li>
			<li><a href="index.xhtml" class="nav-link">Cerrar Sesion</a></li>
		</ul>
	</div>
	</nav> </header>

	<br />
	<br />

	<header> <nav>
	<ul class="nav justify-content-center">
		<li class="nav-item"><h:outputLink
				value="http://localhost:8080/temu/add.xhtml"
				style="text-decoration: none;">
				<button class="btn-effect-18 nav-link"
					style="border: none; background: orange;">AGREGAR</button>
			</h:outputLink></li>
		
	</ul>
	</nav> </header>

	<br />
	<br />

	<h:form id="formProductos">
		<p:growl id="messages" showDetail="true" />

		<section class="services" id="services">
		<div class="heading1">
			<h1>TEMU PRODUCTS</h1>
		</div>

		<div class="services-container">
			<ui:repeat var="producto" value="#{paginaprincipalbean.productos}">
				<div class="card shadow-sm" style="width: 20rem; margin: 12px;">
					<h:graphicImage value="#{paginaprincipalbean.imagenSrc(producto)}"
						styleClass="card-img-top" style="object-fit:cover;height:200px;" />

					<div class="card-body">
						<span class="badge bg-secondary mb-2">#{producto.tipo}</span>
						<h5 class="card-title mb-1">#{producto.nombre}</h5>

						<h6 class="mb-3">
							<h:outputText value="#{producto.precio}">
								<f:convertNumber type="currency" currencySymbol="$"
									locale="es_CO" />
							</h:outputText>
						</h6>

						<div
							class="d-flex justify-content-between align-items-center mb-3">
							<small class="text-muted">ID: #{producto.id}</small>
						</div>

						<!-- COMPRAR: agrega al carrito y muestra growl -->
						<p:commandButton value="COMPRAR"
							action="#{paginaprincipalbean.comprarProducto}"
							styleClass="btn btn-success w-100 mb-2"
							style="border: none; text-decoration: none;"
							update=":formProductos:messages">
							<f:setPropertyActionListener
								target="#{paginaprincipalbean.productoSeleccionado}"
								value="#{producto}" />
						</p:commandButton>

						<!-- ELIMINAR del catálogo -->
						<p:commandButton value="ELIMINAR"
							action="#{paginaprincipalbean.eliminarProducto}"
							styleClass="btn btn-danger w-100"
							style="border: none; text-decoration: none;"
							update="formProductos" process="@this">
							<f:setPropertyActionListener
								target="#{paginaprincipalbean.productoSeleccionado}"
								value="#{producto}" />
						</p:commandButton>
					</div>
				</div>
			</ui:repeat>
		</div>
		</section>
	</h:form>

	<br />

	<footer>
        <section class="footer-section">
            <div class="container footer-grid">
                <div class="footer-col">
                    <div class="footer-contact">
                        <button class="btn-link">3222381555</button>
                        <button class="btn-link">cpelaezp@unbosque.edu.co</button>
                    </div>
                </div>
                <div class="footer-col">
                    <h4>Collections</h4>
                    <div class="btn-row">
                        <button class="btn-link">All collections</button>
                        <button class="btn-link">ROPA</button>
                    </div>
                </div>
                <div class="footer-col">
                    <h4>Information</h4>
                    <div class="btn-column">
                        <button class="btn-link">Home</button>
                        <button class="btn-link">Contact us</button>
                    </div>
                </div>
                <div class="footer-col">
                    <h4>Conectate y compra</h4>
                    <p>Compra todo lo que necesites en nuestra página web.</p>
                </div>
            </div>
        </section>
        <section class="footer-bottom">
            <div class="container footer-bottom-grid">
                <div class="footer-pay-logos-row">
                    <h4>Formas de pago</h4>
                    <div class="logos">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/0/04/Visa.svg" alt="Visa" />
                        <img src="https://upload.wikimedia.org/wikipedia/commons/2/2a/Mastercard-logo.svg" alt="Mastercard" />
                    </div>
                </div>
                <div class="footer-social-logos-row">
                    <h4>Stay Connected</h4>
                    <div class="social-logos">
                        <a href="#" aria-label="Facebook" target="_blank" rel="noopener">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" alt="Facebook" />
                        </a>
                        <a href="#" aria-label="Instagram" target="_blank" rel="noopener">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/e/e7/Instagram_logo_2016.svg" alt="Instagram" />
                        </a>
                        <a href="#" aria-label="LinkedIn" target="_blank" rel="noopener">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/c/ca/LinkedIn_logo_initials.png" alt="LinkedIn" />
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </footer>

</h:body>
</html>
